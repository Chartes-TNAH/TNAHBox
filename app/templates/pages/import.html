{% extends 'conteneur.html' %}

{% block title %}{{titre}}{% endblock %}

<!-- Cette page est destinée à offrir une interface à l'utilisateur-trice qui voudra ajouter des documents à la BDD
A prévoir : accès uniquement si l'utilisateur-trice est connecté-e, logué-e et reconnué-e -->

{% block corps %}
<div class="container card" style="background-color: #ecf7f9">
    <h1>Choisissez un fichier à importer dans TNAH BOX :</h1>


<form action="" method="post" enctype="multipart/form-data" class="form" id="file-form">

    <!-- IMPORT DE FICHIER (name = file) -->
    <div class="container-fluid">
        <div class="input-group row" style="padding: 10px">
            <label class="col-md-2" for="input-file" style="margin: auto; font-size: 24px"><b>Fichier</b></label>
            <input id="input-file" type="file" class="col-md-4" name="file" />
            <div class="col-md-6">
                <p class="text-muted" style="font-size: 12px; margin: -5px; margin-bottom: 10px"><u>Extensions autorisées</u> : </p>
                <p class="text-muted" style="font-size: 12px; margin: -5px"> .pdf, .csv, .doc, .jpg, .json,
                    .jpeg, .gif, .bmp, .png, .word, .xml, .py, .odt</p>
            </div>
        </div>
        <!-- IMPORT DU TITRE (name = title) -->
        <div class="input-group row" style="padding: 10px">
            <label class="col-md-2" for="input-title" style="margin: auto; font-size: 24px"><b>Titre</b></label>
            <input name="title"
                   id="input-title"
                   type="text"
                   class="col-md-10 form-control form-control-lg"
                   required
                   placeholder="Titre du document …"
                   style="font-size: 16px"
                   maxlength="30">
        </div>
        <!-- IMPORT DE LA DESCRIPTION (name = desc) -->
        <div class="input-group row" style="padding: 10px">
            <label class="col-md-2" for="input-desc" style="margin: auto; font-size: 24px"><b>Description</b></label>
            {# <input name="desc" type="text">#}
            <textarea name="desc"
                      class="form-control col-md-10 form-control-lg"
                      rows="3" id="input-desc"
                      placeholder="Description du document …"
                      style="font-size: 16px"
                      maxlength="200"></textarea>
        </div>
        <!-- IMPORT DE LA MATIERE (name = matiere) -->
        <div class="form-group row" style="padding: 10px">
            <label class="col-md-2" for="select-matiere" style="font-size: 24px"><b>Matière</b></label>
            <select  id="select-matiere" form="file-form" name="matiere" class="form-control col-md-9">
                <option value="">Sélectionner une matière</option>
                <option value="Anglais">Anglais</option>
                <option value="Bash / Linux">Bash / Linux</option>
                <option value="CMS (OMEKA)">CMS (OMEKA)</option>
                <option value="Git">Git</option>
                <option value="HTML / CSS">HTML / CSS</option>
                <option value="Interventions / Séminaires">Interventions / Séminaires</option>
                <option value="Javascript">Javascript</option>
                <option value="LaTeX">LaTeX</option>
                <option value="Modélisation / Web de données">Modélisation / Web de données</option>
                <option value="RegEx">RegEx</option>
                <option value="SEO">SEO</option>
                <option value="SQL">SQL</option>
                <option value="XML EAD">XML EAD</option>
                <option value="XML TEI">XML TEI</option>
                <option value="XQuery">XQuery</option>
                <option value="XSLT">XSLT</option>
            </select>
        </div>
        <!-- IMPORT DU FORMAT (name = format) -->
        <div class="form-group row" style="padding: 10px">
            <label class="col-md-2" for="select-format" style="font-size: 24px"><b>Format</b></label>
            <select  id="select-format" form="file-form" name="format" class="form-control col-md-9">
                <option value="">Sélectionner un format de document</option>
                <option value="Texte">Texte</option>
                <option value="Code">Code</option>
                <option value="Image">Image</option>
                <option value="Autre">Autre</option>
            </select>
        </div>
        <!-- IMPORT DE LA DATE (name = date) -->
        <div class="input-group row" style="padding: 10px;">
            <div class="col-md-2">
                <label for="input-date" style="margin: auto; font-size: 24px"><b>Date</b></label>
                <p style="font-size: 12px" class="text-muted">AAAA-MM-JJ</p>
            </div>
            <input id="input-date" type='text' name="date" class="col-md-9 form-control form-control-lg" id='datepicker' style="font-size: 16px" placeholder="Il est possible de n'indiquer que l'année (AAAA) ou le mois (AAAA-MM)." data-date-format="yy-mm-dd"/>
            <script type="text/javascript">
                $(function () {
                    $( "#datepicker" ).datepicker({ dateFormat: 'yy-mm-dd' });
                });
            </script>
        </div>
    </div>


    <div class="row" style="padding: 2em">
        <input id="submit_button" class="btn btn-info" type="submit" value="Importer" style="margin: auto"/>
    </div>
</form>


{#<div class="col-md-8 order-md-1" style="margin-left: 12em">#}
{#      <form class="needs-validation" novalidate>#}
{#          <!-- éléments de design repris de Bootstrap -->#}
{#          <form action="" method="post">#}
{#              <!--méthode POST prévue pour importer les documents -->#}
{#        {{ form.hidden_tag() }}#}
{#<!-- je ne saurai pas expliquer cette ligne, mais elle est nécessaire -->#}
{#<!-- ici, proposition de faire l'import du document grâce à Flask et FlaskForm ; en parallèle essai de développement d'une fonction#}
{#dans donnees, fonction par staticmethod, add_doc-->#}
{##}
{#        <div class="mb-3">#}
{#            <b>{{ form.document_title.label }}</b><br>#}
{#            {{ form.document_title(size=50)}}#}
{#            <!-- Ici ; je ne sais pas si c'est faisable de l'inclure dans le bootstrap mais correspond à :#}
{#            depuis le formulaire déclaré dans routes.py "form = ImportForm() ... etc" et repris de la classe FlaskForm de importer.py#}
{#            je prends le label correspondant à document_title associé au formulaire + passage à la ligne, <br>#}
{#            et place pour écrire le titre avec la taille, choix de 5à (problème de responsive design -->#}
{##}
{#          <!-- Code qui suit correspond à Bootstrap, jolie apparence mais donnée sans lien :#}
{#          <label for="document_title"><b>titre du document</b></label>#}
{#          <div class="input-group">#}
{#            <input type="text" class="form-control" id="document_title" placeholder="Titre du document" required>#}
{#            <div class="invalid-feedback" style="width: 100%;">#}
{#              Le document doit avoir un titre.#}
{#            </div>#}
{#          </div> -->#}
{#        </div>#}
{##}
{#        <div class="mb-3">#}
{#            {{ form.document_teaching.label }}<br>#}
{#            {{ form.document_teaching }}#}
{#        </div>#}
{##}
{##}
{#        <div class="mb-3">#}
{#            {{ form.document_format.label }}<br>#}
{#            {{ form.document_format }}#}
{#        </div>#}
{##}
{#        <div class="mb-3">#}
{#            <b>{{ form.document_date.label }}</b><br>#}
{#            {{ form.document_date(size=50)}}#}
{#            <!-- idem que pour document_title -->#}
{##}
{#            <!--#}
{#            <label for="document_date"><b>Date du cours</b></label>#}
{#          <input type="text" class="form-control" id="document_date" placeholder="Date" required>#}
{#        </div>#}
{#          <div class="invalid-feedback">#}
{#            Veuillez renseigner une date pour ce document.#}
{#            -->#}
{#          </div>#}
{##}
{##}
{##}
{#          <div class="mb-3">#}
{#              <b>{{ form.document_description.label }}</b><br>#}
{#            {{ form.document_description(size=50)}}#}
{#              <!-- idem que pour document_title -->#}
{##}
{#              <!--#}
{#            <label for="document_description"><b>Description du document</b></label>#}
{#          <div class="input-group">#}
{#            <input type="text" class="form-control" id="document_description" placeholder="Description du document" required>#}
{#            <div class="invalid-feedback" style="width: 100%;">#}
{#              Le document doit être décrit au moins succinctement.#}
{#            </div>#}
{#          </div>#}
{#              -->#}
{#        </div>#}
{#          </form>#}
{#      </form>#}
{#</div>#}




</div>


{% endblock %}

<!-- pour rendu visuel, modèle bootstrap utilisé : view-source:https://getbootstrap.com/docs/4.3/examples/checkout/ -->