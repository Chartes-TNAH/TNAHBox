{% extends "conteneur.html" %}

{% block titre %}
    {%if docu %}| Document : {{docu.document_title}} {% endif %}
{% endblock %}

{% block corps %}
    <h1 style="margin-left: 2em">Galerie de document</h1>
    {% if docu %}

        <div class="row" style="padding: 2em">
            <div class="col-md-3">
                {% if docu.document_format == "Image" %}
                    <img class="img-fluid rounded mb-3 mb-md-0" src="{{url_for('static', filename='img/img.png')}}" alt="fichier en format image">
                {% elif docu.document_format == "Texte" %}
                    <img class="img-fluid rounded mb-3 mb-md-0" src="{{url_for('static', filename='img/txt.png')}}" alt="fichier en format texte">
                {% elif docu.document_format == "Code" %}
                    <img class="img-fluid rounded mb-3 mb-md-0" src="{{url_for('static', filename='img/code.png')}}" alt="fichier de code">
                {% elif docu.document_format == "Autre" %}
                    <img class="img-fluid rounded mb-3 mb-md-0" src="{{url_for('static', filename='img/autre.png')}}" alt="fichier dans un format divers">
                {% else %}
                    <img class="img-fluid rounded mb-3 mb-md-0" src="{{url_for('static', filename='img/autre.png')}}" alt="fichier dans un format divers">
                {% endif %}
            </div>
            <div class="col-md-8">
                <h2 class="row" style="padding: 10px">{{docu.document_title}}</h2>
                <div class="row">
                    <div class="col-md-6">
                        <dt>Matière</dt><dd>{{docu.document_teaching}}</dd>
                        <dt>Description</dt>
                        {% if docu.document_description %}
                            <dd>{{docu.document_description}}</dd>
                        {% else %}
                            <dd>Il n'y a pas de description renseignée pour ce document dans la base.</dd>
                        {% endif %}
                        <dt>Type</dt><dd>{{docu.document_format}}</dd>
                        <div class="row">
                            <div style="margin-left: 1em"></div>
                            {% if docu.document_downloadLink %}
                                <a class="btn btn-lg" style="background-color: #70b7c2; width: 8em" href="{{ docu.document_downloadLink }}" download>
                                    <img class="img-fluid rounded mb-3 mb-md-0" style="height: 50px" src="{{url_for("static", filename="img/download_picto_clear.png")}}" alt="Icone de téléchargement">
                                </a>
                                <div style="margin-left: 1em"></div>
                                <a class="btn btn-lg" style="background-color: #70b7c2; width: 8em" href="{{ docu.document_downloadLink }}">
                                    <img class="img-fluid rounded mb-3 mb-md-0" style="height: 50px" src="{{url_for("static", filename="img/preview_picto_clear.png")}}" alt="Icone de prévisualisation">
                                </a>
                            {% else %}
                                <a class="btn btn-lg" style="background-color: #b8dbe0; width: 8em">
                                    <img class="img-fluid rounded mb-3 mb-md-0" style="height: 50px" src="{{url_for("static", filename="img/no_download_picto.png")}}" alt="Icone de téléchargement">
                                </a>
                                <div style="margin-left: 1em"></div>
                                <a class="btn btn-lg" style="background-color: #b8dbe0; width: 8em">
                                    <img class="img-fluid rounded mb-3 mb-md-0" style="height: 50px" src="{{url_for("static", filename="img/no_preview_picto.png")}}" alt="Icone de prévisualisation">
                                </a>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <dt>Date</dt>
                        {% if docu.document_date %}
                            <dd>{{docu.document_date}}</dd>
                        {% else %}
                            <dd>Il n'y a pas de date renseignée pour ce document dans la base.</dd>
                        {% endif %}
                        <dt>Auteur</dt>
                        {% if auteur.person_name %}
                            <dd>{{auteur.person_firstName}} {{auteur.person_name}}</dd>
                        {% else %}
                            <dd>Il n'y a pas d'auteur renseigné pour ce document dans la base.</dd>
                        {% endif %}
                        <dt>Tag</dt>
                        <dd>
                            {% for tag in docu.document_tag %}
                                <span class="badge badge-light">{{tag}}</span>
                            {% endfor %}
                        </dd>
                        <form class="form" id="recherche-form" action="{{url_for('document', docu_id = docu.document_id)}}" method="POST">
                            <div class="input-group">
                                <input type="text" name="tag" class="form-control form-control-lg" placeholder="Ajouter un tag …">
                                <span class="input-group-btn">
                                    <button class="btn btn-lg" style="background-color: #70b7c2; color: #e4edee" role="button">Insérer</button>
                                </span>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    {% else %}
        <div class="container"><p>Aucun document ne correspond à l'identifiant renseigné.</p></div>
    {% endif %}

    {% include "partials/retour_accueil.html" %}
{% endblock %}

